<!DOCTYPE html>
<!-- saved from url=(0079)https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287 -->
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style data-merge-styles="true"></style>
    <style data-merge-styles="true"></style><style data-merge-styles="true"></style><meta name="viewport" content="width=device-width">
    <title>Lab 05: Add database using automatic seeding</title>


    <script src="./Lab 05_ Add database using automatic seeding_files/jquery.min.js.download" type="text/javascript"></script>
    <script src="./Lab 05_ Add database using automatic seeding_files/Localize" type="text/javascript"></script>
    <script src="./Lab 05_ Add database using automatic seeding_files/showdown.min.js.download"></script>
    <link rel="stylesheet" type="text/css" href="./Lab 05_ Add database using automatic seeding_files/prettify.css">
    <script src="./Lab 05_ Add database using automatic seeding_files/yaml.min.js.download"></script>
    <script src="./Lab 05_ Add database using automatic seeding_files/LocalizeTo" type="text/javascript"></script>
    <link href="./Lab 05_ Add database using automatic seeding_files/CloudClient.css" rel="stylesheet" type="text/css">

    <style type="text/css">
        body, html {
            font-family: Segoe UI,Tahoma,Verdana,Arial,sans-serif;
            font-size: 14px;
            padding: 0;
            margin: 0;
            background-color: #efefef;
            color: #000;
            height: 100%;
        }

        body {
            overflow: auto;
        }

        #outputWrapper {
            background-color: #efefef;
            min-height: 100%;
        }

        .instructionsPreview {
            padding: 20px;
            height: 100%;
        }

        .instructionsPreview .page {
            position: relative;
            display: block !important;
            padding: 15px 20px;
            background-color: #fff;
            page-break-after: always;
            min-height: 650px;
        }

        .instructionsPreview .page:not(:first-child) {
            margin-top: 20px;
        }

        @font-face {
            font-family: "lod";
            src: url("/fonts/lod.woff?v=18") format("woff"), url("/fonts/lod.ttf?v=18") format("truetype"), url("/fonts/lod.svg?v=18") format("svg");
        }

        .editLink:before {
            content: "\E70F";
            font-family: "lod";
            margin-right: 4px;
            display: inline-block;
        }

        @media print {
            body, html {
                height: auto;
            }

            body {
                -webkit-print-color-adjust: exact;
            }

            div {
                page-break-inside: avoid;
            }

            #outputWrapper {
                background-color: transparent;
            }

            .instructionsPreview {
                padding: 0;
            }

                .instructionsPreview .page:not(:first-child) {
                    margin-top: 0px;
                }
        }

        @page {
            margin-left: 1.5cm;
            margin-right: 1.5cm;
            margin-top: 1.5cm;
            margin-bottom: 1.5cm;
        }
    </style>
    <link id="themeStylesheet" href="./Lab 05_ Add database using automatic seeding_files/Blue.css" rel="stylesheet">

</head>
<body>
        <!-- <div style="padding:10px 20px;">
            <a class="editLink" href="https://labondemand.com/LabProfile/EditInstructions/156300?InstructionsSetId=249287">Edit</a>
        </div> -->

    <div id="outputWrapper">
        <div id="instructions" class="instructionsPreview instructions"><div class="page" id="page0"><h1 id="add-database-using-automatic-seeding">Add database using automatic seeding</h1>
<h2 id="introduction">Introduction</h2>
<p>During this lab, you will learn how to add a database to an existing availability group using automatic seeding.</p>
<h2 id="objectives">Objectives</h2>
<p>At the end of this lab, you will be able to:</p>
<ul>
<li>Apply the permissions required for automatic seeding</li>
<li>Configure replicas to enable automatic seeding</li>
<li>Add a database to an existing availability group</li>
<li>Validate the secondary replicas have a copy of the new database</li>
</ul>
<h2 id="estimated-time">Estimated Time</h2>
<p>20 minutes</p>
<h2 id="logon-information">Logon Information</h2>
<blockquote class="alert">
  <p><strong>Before Login make sure windows has Applied Computer Setting to all nodes.</strong></p>
</blockquote>
<p>Use the following credentials to login into virtual environment</p>
<ol>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243515">AlwaysOnClient</a></strong> as <strong><span class="typeText" title="Type Text">Corpnet\Cluadmin</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243512">AlwaysOnN1</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243513">AlwaysOnN2</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243514">AlwaysOnN3</a></strong> as <strong><span class="typeText" title="Type Text">CORPNET\Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Connect to <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243511">AlwaysOnDC</a></strong> as <strong><span class="typeText" title="Type Text">Administrator</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong> as the password.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li><p>Change the screen resolution if required.</p>
<blockquote class="hint">
  <p>You may want to adjust the screen resolution to your own preference. Do this by right-clicking on the desktop and choosing <strong>Screen resolution</strong> and clicking <strong>OK</strong> when finished.</p>
</blockquote></li>
</ol>
<blockquote class="note">
  <p><strong>Screenshots in the lab instructions may appear with a lower SQL version number</strong> than is installed in the lab environment where functionality is not affected. </p>
</blockquote>
</div><div class="page" id="page1">
<h1 id="exercise-1-apply-permissions-required-for-automatic-seeding">Exercise 1: Apply permissions required for automatic seeding</h1>
<p>In this exercise, you will learn how to apply permissions required for automatic seeding</p>
<hr>
<h3 id="tasks">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex0"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex0"><span></span></label> Login to the <strong><a href="https://labondemand.com/LabProfile/Instructions/156300?instructionsSetId=249287#" class="selectMachineLink icon-link special-action-link" data-data="243515">AlwaysOnClient</a></strong> virtual machine as <strong><span class="typeText" title="Type Text">CORPNET\cluadmin</span></strong> using <strong><span class="typeText" title="Type Text">Pa$$w0rd</span></strong>.</p>
<blockquote class="hint">
  <p>Click the <strong><span class="typeText" title="Type Text">Type Text</span></strong> icon to enter the associated text into the virtual machine.</p>
</blockquote></li>
<li class="task-list-item" id="taskIndex1"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex1"><span></span></label> Open <strong>SQL Server Management studio (SSMS)</strong> and click <strong>Connect</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0157.png"></p></li>
<li class="task-list-item" id="taskIndex2"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex2"><span></span></label> In <strong>Registered servers</strong>, expand <strong>Database Engine</strong>, and then navigate down to <strong>Local Server Groups</strong>

<img src="./Lab 05_ Add database using automatic seeding_files/lm89us1k.png" alt="lm89us1k.png"></p></li>
<li class="task-list-item" id="taskIndex3"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex3"><span></span></label> Right click <strong>Local Server Groups</strong> and  select <strong>New Query</strong>.

<img src="./Lab 05_ Add database using automatic seeding_files/qaib14vl.png" alt="qaib14vl.png"></p></li>
<li class="task-list-item" id="taskIndex4"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex4"><span></span></label> A new query window will appear. </p>
<blockquote class="note">
  <p>Notice the <strong>pink</strong> status bar at the bottom that says <strong>Connected. (3/3)</strong>. This means that whatever commands are issued in the query window, they will be executed to all three servers in the <strong>Local Server Groups</strong> list, namely: <strong>AlwaysOnN1</strong>, <strong>AlwaysOnN2</strong>, and <strong>AlwaysOnN3</strong>.</p>
</blockquote>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/r0p9u72y.png" alt="r0p9u72y.png"></p></li>
<li class="task-list-item" id="taskIndex5"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex5"><span></span></label> Type in the following <strong>TSQL</strong>, and press the <strong>F5 key</strong> to execute or press the <strong>Execute</strong> button. This will grant the <strong>Create Any Database</strong> permission to the availability group on all three replicas.</p>
<blockquote class="hint">
  <p>Open Notepad in the lab environment VM. Use the <strong><span class="typeText" title="Type Text">Type Text</span></strong> feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.</p>
</blockquote>
<pre><div class="codeTitle">TSQL</div><code class="TSQL language-TSQL prettyprint prettyprinted" style=""><span class="pln">ALTER AVAILABILITY GROUP </span><span class="pun">[</span><span class="typ">AGCorp</span><span class="pun">]</span><span class="pln">
 GRANT CREATE ANY DATABASE</span><span class="pun">;</span></code></pre></li>
<li class="task-list-item" id="taskIndex6"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex6"><span></span></label> Look at the <strong>Messages</strong> output. It should say it <strong>completed successfully on (3 Servers)</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/step7lab5.png" alt="step7lab5.png"></p></li>
<li class="task-list-item" id="taskIndex7"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex7"><span></span></label> Next, close this query window by clicking the <strong>X</strong> as shown in the screen caption.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/corrected.png" alt="corrected.png"></p>
<p>When prompted to save the query, click <strong>No</strong>.</p></li>
</ol>
<h3 id="congratulations">Congratulations!</h3>
<p>You have successfully completed this exercise. Click <strong>Next</strong> to advance to the next exercise.</p>
</div><div class="page" id="page2">
<h1 id="exercise-2-configure-replicas-to-enable-automatic-seeding">Exercise 2: Configure replicas to enable automatic seeding</h1>
<p>In this exercise, you will learn how to configure replicas to enable automatic seeding</p>
<hr>
<h3 id="tasks-1">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex8"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex8"><span></span></label> The next command needs to be executed on the primary replica of the availability group. It is not always clear which instance is the primary, so we will connect using the availability group listener, <strong>AGCorpList</strong>.</p></li>
<li class="task-list-item" id="taskIndex9"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex9"><span></span></label> Click on the <strong>Connect</strong> button in the Object Explorer window as show in the screen caption. Select the <strong>Database Engine</strong> option.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/wigpkk9h.png" alt="wigpkk9h.png"></p></li>
<li class="task-list-item" id="taskIndex10"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex10"><span></span></label> Enter the name of the availability group listener, <strong>AGCorpList</strong> and press the <strong>Connect</strong> button.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0165.png"></p></li>
<li class="task-list-item" id="taskIndex11"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex11"><span></span></label> Find <strong>AGCorpList</strong> in the list of instances in the Object Explorer, right click it and select <strong>New Query</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/nzdsmk95.png" alt="nzdsmk95.png"></p></li>
<li class="task-list-item" id="taskIndex12"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex12"><span></span></label> In the query window that appears, type the following <strong>TSQL</strong> and press <strong>F5</strong> or click the <strong>Execute</strong> button to execute the script:</p>
<blockquote class="hint">
  <p>Open Notepad in the lab environment VM. Use the <strong><span class="typeText" title="Type Text">Type Text</span></strong> feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.</p>
</blockquote>
<pre><div class="codeTitle">TSQL</div><code class="TSQL language-TSQL prettyprint prettyprinted" style=""><span class="pln">    ALTER AVAILABILITY GROUP </span><span class="pun">[</span><span class="typ">AGCorp</span><span class="pun">]</span><span class="pln">
        MODIFY REPLICA ON </span><span class="str">'AlwaysOnN1'</span><span class="pln">
        WITH </span><span class="pun">(</span><span class="pln">SEEDING_MODE </span><span class="pun">=</span><span class="pln"> AUTOMATIC</span><span class="pun">);</span><span class="pln">
    GO
    ALTER AVAILABILITY GROUP </span><span class="pun">[</span><span class="typ">AGCorp</span><span class="pun">]</span><span class="pln">
        MODIFY REPLICA ON </span><span class="str">'AlwaysOnN2'</span><span class="pln">
        WITH </span><span class="pun">(</span><span class="pln">SEEDING_MODE </span><span class="pun">=</span><span class="pln"> AUTOMATIC</span><span class="pun">);</span><span class="pln">
    GO
    ALTER AVAILABILITY GROUP </span><span class="pun">[</span><span class="typ">AGCorp</span><span class="pun">]</span><span class="pln">
        MODIFY REPLICA ON </span><span class="str">'AlwaysOnN3'</span><span class="pln">
        WITH </span><span class="pun">(</span><span class="pln">SEEDING_MODE </span><span class="pun">=</span><span class="pln"> AUTOMATIC</span><span class="pun">);</span><span class="pln">
    GO</span></code></pre>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/3dfxy9wl.png" alt="3dfxy9wl.png"></p></li>
<li class="task-list-item" id="taskIndex13"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex13"><span></span></label> Verify the Messages tab indicated the commands completed successfully.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/sxoad4iz.png" alt="sxoad4iz.png"></p></li>
</ol>
<h3 id="congratulations-1">Congratulations!</h3>
<p>You have successfully completed this exercise. Click <strong>Next</strong> to advance to the next exercise.</p>
</div><div class="page" id="page3">
<h1 id="exercise-3-add-a-database-to-an-existing-availability-group">Exercise 3: Add a database to an existing availability group</h1>
<p>In this exercise, you will learn how to add a database to an existing availability group</p>
<hr>
<h3 id="tasks-2">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex14"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex14"><span></span></label> Go to registered servers and navigate down to <strong>Local Server Groups</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0158.png"></p></li>
<li class="task-list-item" id="taskIndex15"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex15"><span></span></label> Right click <strong>Local Server Groups</strong> and select <strong>Object Explorer</strong>. This will connect to all the instances in the availability group.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0169.png"></p></li>
<li class="task-list-item" id="taskIndex16"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex16"><span></span></label> For each instance in the Object Explorer, expand the instance, and then expand <strong>Databases</strong>. Verify that only <strong>AlwaysOnN1</strong> contains the database <strong>CustomerData</strong>. The other two instances, AlwaysOnN2 and AlwaysOnN3, will only have two databases - <strong>AdventureWorks</strong> and <strong>AdventureWorksDW</strong>. In this exercise, we will add the database <strong>CustomerData</strong> to the existing availability group <strong>AGCorp</strong>.</p>
<p><br>
<img src="./Lab 05_ Add database using automatic seeding_files/uuz655ft.png" alt="uuz655ft.png">

<img src="./Lab 05_ Add database using automatic seeding_files/yh77gn1h.png" alt="yh77gn1h.png"> </p>
<blockquote class="note">
  <p>The next command needs to be executed on the primary replica of the availability group. It is not always clear which instance is the primary, so we will connect using the availability group listener, <strong>AGCorpList</strong>.</p>
</blockquote></li>
<li class="task-list-item" id="taskIndex17"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex17"><span></span></label> Click on the <strong>Connect</strong> button in the Object Explorer window as show in the screen caption. Select the <strong>Database Engine</strong> option.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0164.png"></p></li>
<li class="task-list-item" id="taskIndex18"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex18"><span></span></label> Enter the name of the availability group listener, <strong>AGCorpList</strong> and press the <strong>Connect</strong> button.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0165.png"></p></li>
<li class="task-list-item" id="taskIndex19"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex19"><span></span></label> Expand <strong>AGCorpList &gt; Always On High Availability &gt; Availability Groups &gt; AGCorp (Primary) &gt; Availability Replicas</strong> to find the Primary and Secondary Replicas as shown below.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/ryk06mhh.png" alt="ryk06mhh.png"></p>
<blockquote class="note">
  <p>For this lab we need <strong>AlwaysOnN1</strong> to be the primary replica as it has the <strong>CustomerData</strong> database. <strong>If <em>AlwaysOnN1</em> is not the primary replica as shown in the above picture, then follow the below steps to make AlwaysOnN1 as Primary replica</strong> otherwise goto <strong>New Query</strong> Step directly.</p>
</blockquote></li>
<li class="task-list-item" id="taskIndex20"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex20"><span></span></label> Right click <strong>AGCorp (Primary)</strong> and select <strong>Failover</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/7dfxgcvm.png" alt="7dfxgcvm.png"></p></li>
<li class="task-list-item" id="taskIndex21"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex21"><span></span></label> In the <strong>Introduction</strong> page, click <strong>Next</strong>.</p></li>
<li class="task-list-item" id="taskIndex22"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex22"><span></span></label> In the <strong>Select New Primary Replica</strong> page, click <strong>ALWAYSONN1</strong> and click <strong>Next</strong>.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0174.png"></p></li>
<li class="task-list-item" id="taskIndex23"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex23"><span></span></label> On the <strong>Connect to Replica</strong> page, click <strong>Connect</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0175.png"></p></li>
<li class="task-list-item" id="taskIndex24"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex24"><span></span></label> Click <strong>Connect</strong> on the pop-up dialog box and click <strong>Next</strong>.</p></li>
<li class="task-list-item" id="taskIndex25"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex25"><span></span></label> In the <strong>Summary</strong> page, click Finish. On successful completion of failover, click <strong>Close</strong>. </p></li>
<li class="task-list-item" id="taskIndex26"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex26"><span></span></label> Right click AGCorp (Primary) and select refresh. Ensure that AlwaysOnN1 is the Primary replica as shown below.</p>
<p><br>
<img src="./Lab 05_ Add database using automatic seeding_files/424kzuho.png" alt="424kzuho.png"> </p></li>
<li class="task-list-item" id="taskIndex27"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex27"><span></span></label> Find <strong>AGCorpList</strong> in the list of instances in the Object Explorer, right click it and select <strong>New Query</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/v8jf00qy.png" alt="v8jf00qy.png"> </p></li>
<li class="task-list-item" id="taskIndex28"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex28"><span></span></label> In the query window that appears, type the following TSQL and press <strong>F5</strong> or click the <strong>Execute</strong> button to execute the script:</p>
<blockquote class="hint">
  <p>Open Notepad in the lab environment VM. Use the <strong><span class="typeText" title="Type Text">Type Text</span></strong> feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.</p>
</blockquote>
<pre><div class="codeTitle">TSQL</div><code class="TSQL language-TSQL prettyprint prettyprinted" style=""><span class="pln">    ALTER AVAILABILITY GROUP </span><span class="pun">[</span><span class="typ">AGCorp</span><span class="pun">]</span><span class="pln">
        ADD DATABASE </span><span class="pun">[</span><span class="typ">CustomerData</span><span class="pun">];</span><span class="pln">
    GO</span></code></pre>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/ps6iprg2.png" alt="ps6iprg2.png"></p></li>
<li class="task-list-item" id="taskIndex29"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex29"><span></span></label> Verify the Messages tab indicated the commands completed successfully.</p></li>
<li class="task-list-item" id="taskIndex30"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex30"><span></span></label> Now navigate to each of the instances in the Object Explorer, right click the <strong>Databases</strong> folder and select <strong>refresh</strong>. You should now see the <strong>CustomerData</strong> database on all three instances, and it should show <strong>(SYNCHRONIZED)</strong>.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/u3ztlf7v.png" alt="u3ztlf7v.png"> </p></li>
<li class="task-list-item" id="taskIndex31"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex31"><span></span></label> After refreshing the new database shows up on the secondary.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/5sdvggyi.png" alt="5sdvggyi.png"></p></li>
</ol>
<h3 id="congratulations-2">Congratulations!</h3>
<p>You have successfully completed this exercise. Click <strong>Next</strong> to advance to the next exercise.</p>
</div><div class="page" id="page4">
<h1 id="exercise-4-validate-the-secondary-replicas-have-a-copy-of-the-new-database">Exercise 4: Validate the secondary replicas have a copy of the new database</h1>
<p>In this exercise, you will learn how to validate the secondary replicas have a copy of the new database</p>
<hr>
<h3 id="tasks-3">Tasks</h3>
<ol class="taskList">
<li class="task-list-item" id="taskIndex32"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex32"><span></span></label> At the end of exercise 3, we visually confirmed the [CustomerData] database was now on the secondary replicas. In this exercise we will query some DMVs to show information about the seeding process. These DMVs are useful if there are problems with automatic seeding.</p></li>
<li class="task-list-item" id="taskIndex33"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex33"><span></span></label> We will connect to the availability group primary to execute these DMV queries. Click on the <strong>Connect</strong> button in the Object Explorer window as show in the screen caption. Select the <strong>Database Engine</strong> option.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0181.png" alt="image0181.png"></p></li>
<li class="task-list-item" id="taskIndex34"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex34"><span></span></label> Enter the name of the availability group listener, <span class="typeText" title="Type Text"><strong>AGCorpList</strong></span> and press the <strong>Connect</strong> button.</p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/image0165.png"></p></li>
<li class="task-list-item" id="taskIndex35"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex35"><span></span></label> Find <strong>AGCorpList</strong> in the list of instances in the Object Explorer, right click it and select <strong>New Query</strong></p>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/6cidjf5w.png" alt="6cidjf5w.png"></p></li>
<li class="task-list-item" id="taskIndex36"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex36"><span></span></label> In the query window that appears, type the following TSQL and press <strong>F5</strong> or click the <strong>Execute</strong> button to check the status of the automatic seeding process.</p>
<blockquote class="hint">
  <p>Open Notepad in the lab environment VM. Use the <strong><span class="typeText" title="Type Text">Type Text</span></strong> feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.</p>
</blockquote>
<pre><div class="codeTitle">TSQL</div><code class="TSQL language-TSQL prettyprint prettyprinted" style=""><span class="pln">    SELECT </span><span class="pun">*</span><span class="pln"> FROM sys</span><span class="pun">.</span><span class="pln">dm_hadr_automatic_seeding</span><span class="pun">;</span><span class="pln"> 
    GO</span></code></pre>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/qtte67j7.png" alt="qtte67j7.png"></p></li>
<li class="task-list-item" id="taskIndex37"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex37"><span></span></label> Scroll right and left through the results to look at the various fields of information.</p>
<p>What is the "current_state"?   </p>
<p><input type="text" class="variableTextBox" data-name="answer_5-4-5-1" maxlength="500" spellcheck="false" data-ms-editor="true"></p>
<p>How many attempts were made for each secondary replica?     </p>
<p><input type="text" class="variableTextBox" data-name="answer_5-4-5-2" maxlength="500" spellcheck="false" data-ms-editor="true"></p></li>
<li class="task-list-item" id="taskIndex38"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex38"><span></span></label> In the query window, type the following TSQL and press <strong>F5</strong> or click the <strong>Execute</strong> button to see the physical statistics for each seeding process that is currently running. </p>
<blockquote class="hint">
  <p>Open Notepad in the lab environment VM, use the <strong><span class="typeText" title="Type Text">Type Text</span></strong> feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.</p>
</blockquote>
<pre><div class="codeTitle">TSQL</div><code class="TSQL language-TSQL prettyprint prettyprinted" style=""><span class="pln">    SELECT </span><span class="pun">*</span><span class="pln"> FROM sys</span><span class="pun">.</span><span class="pln">dm_hadr_physical_seeding_stats</span><span class="pun">;</span><span class="pln"> 
    GO</span></code></pre>
<p>
<img src="./Lab 05_ Add database using automatic seeding_files/z98z6f5s.png" alt="z98z6f5s.png"> </p></li>
<li class="task-list-item" id="taskIndex39"><p><label class="checkbox"><input type="checkbox" aria-labelledby="taskIndex39"><span></span></label> Scroll right and left through the results to look at the various fields of information.</p>
<p>The two columns <strong>total_disk_io_wait_time_ms</strong> and the total_network_wait_time_ms can be used to determine performance bottleneck in the Automatic seeding process. </p>
<p><strong>total_disk_io_wait_time_ms</strong> represents the time spent by the backup/restore thread while waiting on the disk. This value is cumulative since the start of the seeding operation. If the disks are not ready for reading or writing the backup stream, the backup/restore thread transitions into a sleep state and wakes up every one second to check if the disk is ready.</p>
<p><strong>total_network_wait_time_ms</strong> is interpreted differently for the Primary and the Secondary replica. At the primary replica this counter represents the network flow control time. On the secondary replica this represents the time the restore thread is waiting for a message to be available for writing to the disk.</p>
<blockquote class="note">
  <p>The above query only returns rows when seeding is running. </p>
</blockquote></li>
</ol>
<h3 id="congratulations-3">Congratulations!</h3>
<p>You have successfully completed this exercise. You can move to the next lab.</p></div></div>
    </div>
    <input type="hidden" id="rawContent" value="# Add database using automatic seeding

## Introduction

During this lab, you will learn how to add a database to an existing availability group using automatic seeding.

## Objectives

At the end of this lab, you will be able to:

- Apply the permissions required for automatic seeding
- Configure replicas to enable automatic seeding
- Add a database to an existing availability group
- Validate the secondary replicas have a copy of the new database

## Estimated Time

20 minutes

## Logon Information
&gt;[!alert]**Before Login make sure windows has Applied Computer Setting to all nodes.**

Use the following credentials to login into virtual environment

1. Connect to **@lab.VirtualMachine(AlwaysOnClient).SelectLink** as **+++Corpnet\Cluadmin+++** using **+++@lab.VirtualMachine(AlwaysOnClient).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN1).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN1).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN1).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN2).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN2).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN2).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnN3).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnN3).Username+++** using **+++@lab.VirtualMachine(AlwaysOnN3).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Connect to **@lab.VirtualMachine(AlwaysOnDC).SelectLink** as **+++@lab.VirtualMachine(AlwaysOnDC).Username+++** using **+++@lab.VirtualMachine(AlwaysOnDC).Password+++** as the password.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. Change the screen resolution if required.

    &gt;[!TIP] You may want to adjust the screen resolution to your own preference. Do this by right-clicking on the desktop and choosing **Screen resolution** and clicking **OK** when finished.

&gt;[!note] **Screenshots in the lab instructions may appear with a lower SQL version number** than is installed in the lab environment where functionality is not affected. 

===

# Exercise 1: Apply permissions required for automatic seeding

In this exercise, you will learn how to apply permissions required for automatic seeding

---

### Tasks 

1. [] Login to the **@lab.VirtualMachine(AlwaysOnClient).SelectLink** virtual machine as **+++CORPNET\cluadmin+++** using **+++@lab.VirtualMachine(AlwaysOnClient).Password+++**.

    &gt;[!TIP] Click the **+++Type Text+++** icon to enter the associated text into the virtual machine.

1. [] Open **SQL Server Management studio (SSMS)** and click **Connect**

    ![](Media/image0157.png)

1. [] In **Registered servers**, expand **Database Engine**, and then navigate down to **Local Server Groups**
    !IMAGE[lm89us1k.png](instructions249287/lm89us1k.png)
   

1. [] Right click **Local Server Groups** and  select **New Query**.
    !IMAGE[qaib14vl.png](instructions249287/qaib14vl.png)
  

1. [] A new query window will appear. 

    &gt;[!note]Notice the **pink** status bar at the bottom that says **Connected. (3/3)**. This means that whatever commands are issued in the query window, they will be executed to all three servers in the **Local Server Groups** list, namely: **AlwaysOnN1**, **AlwaysOnN2**, and **AlwaysOnN3**.

   !IMAGE[r0p9u72y.png](instructions249287/r0p9u72y.png)

1. [] Type in the following **TSQL**, and press the **F5 key** to execute or press the **Execute** button. This will grant the **Create Any Database** permission to the availability group on all three replicas.

    &gt;[!TIP] Open Notepad in the lab environment VM. Use the **+++Type Text+++** feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.

    ```TSQL
    ALTER AVAILABILITY GROUP [AGCorp]
     GRANT CREATE ANY DATABASE;
    ```


1. [] Look at the **Messages** output. It should say it **completed successfully on (3 Servers)**

 !IMAGE[step7lab5.png](instructions249287/step7lab5.png)
1. [] Next, close this query window by clicking the **X** as shown in the screen caption.

    !IMAGE[corrected.png](instructions249287/corrected.png)

    When prompted to save the query, click **No**.

### Congratulations!

You have successfully completed this exercise. Click **Next** to advance to the next exercise.

===

# Exercise 2: Configure replicas to enable automatic seeding

In this exercise, you will learn how to configure replicas to enable automatic seeding

---

### Tasks
 
1. [] The next command needs to be executed on the primary replica of the availability group. It is not always clear which instance is the primary, so we will connect using the availability group listener, **AGCorpList**.

1. [] Click on the **Connect** button in the Object Explorer window as show in the screen caption. Select the **Database Engine** option.

    !IMAGE[wigpkk9h.png](instructions249287/wigpkk9h.png)

1. [] Enter the name of the availability group listener, **AGCorpList** and press the **Connect** button.

    ![](Media/image0165.png)

1. [] Find **AGCorpList** in the list of instances in the Object Explorer, right click it and select **New Query**

   !IMAGE[nzdsmk95.png](instructions249287/nzdsmk95.png)

1. [] In the query window that appears, type the following **TSQL** and press **F5** or click the **Execute** button to execute the script:

    &gt;[!TIP] Open Notepad in the lab environment VM. Use the **+++Type Text+++** feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.

    ```TSQL
        ALTER AVAILABILITY GROUP [AGCorp]
            MODIFY REPLICA ON &#39;AlwaysOnN1&#39;
            WITH (SEEDING_MODE = AUTOMATIC);
        GO
        ALTER AVAILABILITY GROUP [AGCorp]
            MODIFY REPLICA ON &#39;AlwaysOnN2&#39;
            WITH (SEEDING_MODE = AUTOMATIC);
        GO
        ALTER AVAILABILITY GROUP [AGCorp]
            MODIFY REPLICA ON &#39;AlwaysOnN3&#39;
            WITH (SEEDING_MODE = AUTOMATIC);
        GO
    ```

    !IMAGE[3dfxy9wl.png](instructions249287/3dfxy9wl.png)

1. [] Verify the Messages tab indicated the commands completed successfully.

   !IMAGE[sxoad4iz.png](instructions249287/sxoad4iz.png)

### Congratulations!

You have successfully completed this exercise. Click **Next** to advance to the next exercise.

===

# Exercise 3: Add a database to an existing availability group

In this exercise, you will learn how to add a database to an existing availability group

---

### Tasks
 
1. [] Go to registered servers and navigate down to **Local Server Groups**

    ![](Media/image0158.png)

1. [] Right click **Local Server Groups** and select **Object Explorer**. This will connect to all the instances in the availability group.

    ![](Media/image0169.png)

1. [] For each instance in the Object Explorer, expand the instance, and then expand **Databases**. Verify that only **AlwaysOnN1** contains the database **CustomerData**. The other two instances, AlwaysOnN2 and AlwaysOnN3, will only have two databases - **AdventureWorks** and **AdventureWorksDW**. In this exercise, we will add the database **CustomerData** to the existing availability group **AGCorp**.

       !IMAGE[uuz655ft.png](instructions249287/uuz655ft.png)
    !IMAGE[yh77gn1h.png](instructions249287/yh77gn1h.png) 
    &gt;[!note]The next command needs to be executed on the primary replica of the availability group. It is not always clear which instance is the primary, so we will connect using the availability group listener, **AGCorpList**.

1. [] Click on the **Connect** button in the Object Explorer window as show in the screen caption. Select the **Database Engine** option.

    ![](Media/image0164.png)

1. [] Enter the name of the availability group listener, **AGCorpList** and press the **Connect** button.

    ![](Media/image0165.png)

1. [] Expand **AGCorpList &amp;gt; Always On High Availability &amp;gt; Availability Groups &amp;gt; AGCorp (Primary) &amp;gt; Availability Replicas** to find the Primary and Secondary Replicas as shown below.

 !IMAGE[ryk06mhh.png](instructions249287/ryk06mhh.png)

    &gt;[!note]For this lab we need **AlwaysOnN1** to be the primary replica as it has the **CustomerData** database. **If *AlwaysOnN1* is not the primary replica as shown in the above picture, then follow the below steps to make AlwaysOnN1 as Primary replica** otherwise goto **New Query** Step directly.

1. [] Right click **AGCorp (Primary)** and select **Failover**

    !IMAGE[7dfxgcvm.png](instructions249287/7dfxgcvm.png)

1. [] In the **Introduction** page, click **Next**.
    
1. [] In the **Select New Primary Replica** page, click **ALWAYSONN1** and click **Next**.

    ![](Media/image0174.png)

1. [] On the **Connect to Replica** page, click **Connect**

    ![](Media/image0175.png)


1. [] Click **Connect** on the pop-up dialog box and click **Next**.
    
1. [] In the **Summary** page, click Finish. On successful completion of failover, click **Close**. 
    
1. [] Right click AGCorp (Primary) and select refresh. Ensure that AlwaysOnN1 is the Primary replica as shown below.

      !IMAGE[424kzuho.png](instructions249287/424kzuho.png) 
1. [] Find **AGCorpList** in the list of instances in the Object Explorer, right click it and select **New Query**

    !IMAGE[v8jf00qy.png](instructions249287/v8jf00qy.png) 

1. [] In the query window that appears, type the following TSQL and press **F5** or click the **Execute** button to execute the script:

    &gt;[!TIP] Open Notepad in the lab environment VM. Use the **+++Type Text+++** feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.

    ```TSQL
        ALTER AVAILABILITY GROUP [AGCorp]
            ADD DATABASE [CustomerData];
        GO
    ```

    !IMAGE[ps6iprg2.png](instructions249287/ps6iprg2.png)

1. [] Verify the Messages tab indicated the commands completed successfully.

1. [] Now navigate to each of the instances in the Object Explorer, right click the **Databases** folder and select **refresh**. You should now see the **CustomerData** database on all three instances, and it should show **(SYNCHRONIZED)**.

    !IMAGE[u3ztlf7v.png](instructions249287/u3ztlf7v.png) 

1. [] After refreshing the new database shows up on the secondary.

   !IMAGE[5sdvggyi.png](instructions249287/5sdvggyi.png)

### Congratulations!

You have successfully completed this exercise. Click **Next** to advance to the next exercise.

===

# Exercise 4: Validate the secondary replicas have a copy of the new database

In this exercise, you will learn how to validate the secondary replicas have a copy of the new database

---

### Tasks

1. [] At the end of exercise 3, we visually confirmed the [CustomerData] database was now on the secondary replicas. In this exercise we will query some DMVs to show information about the seeding process. These DMVs are useful if there are problems with automatic seeding.

1. [] We will connect to the availability group primary to execute these DMV queries. Click on the **Connect** button in the Object Explorer window as show in the screen caption. Select the **Database Engine** option.

    ![image0181.png](Media/image0181.png)

1. [] Enter the name of the availability group listener, +++**AGCorpList**+++ and press the **Connect** button.

    ![](Media/image0165.png)

1. [] Find **AGCorpList** in the list of instances in the Object Explorer, right click it and select **New Query**

    !IMAGE[6cidjf5w.png](instructions249287/6cidjf5w.png)

1. [] In the query window that appears, type the following TSQL and press **F5** or click the **Execute** button to check the status of the automatic seeding process.

    &gt;[!TIP] Open Notepad in the lab environment VM. Use the **+++Type Text+++** feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.

    ```TSQL
        SELECT * FROM sys.dm_hadr_automatic_seeding; 
        GO
    ```

    !IMAGE[qtte67j7.png](instructions249287/qtte67j7.png)

1. [] Scroll right and left through the results to look at the various fields of information.

    What is the &quot;current\_state&quot;?   

    @lab.TextBox(answer_5-4-5-1)

    How many attempts were made for each secondary replica?     

    @lab.TextBox(answer_5-4-5-2)

1. [] In the query window, type the following TSQL and press **F5** or click the **Execute** button to see the physical statistics for each seeding process that is currently running. 

    &gt;[!TIP] Open Notepad in the lab environment VM, use the **+++Type Text+++** feature to enter the code into Notepad, copy the code, and then paste it into the Query Editor. This will bypass the autocomplete features in the Query Editor.
    
    ```TSQL
        SELECT * FROM sys.dm_hadr_physical_seeding_stats; 
        GO
    ```

   !IMAGE[z98z6f5s.png](instructions249287/z98z6f5s.png) 
1. [] Scroll right and left through the results to look at the various fields of information.

    The two columns **total_disk_io_wait_time_ms** and the total_network_wait_time_ms can be used to determine performance bottleneck in the Automatic seeding process. 

    **total_disk_io_wait_time_ms** represents the time spent by the backup/restore thread while waiting on the disk. This value is cumulative since the start of the seeding operation. If the disks are not ready for reading or writing the backup stream, the backup/restore thread transitions into a sleep state and wakes up every one second to check if the disk is ready.

    **total_network_wait_time_ms** is interpreted differently for the Primary and the Secondary replica. At the primary replica this counter represents the network flow control time. On the secondary replica this represents the time the restore thread is waiting for a message to be available for writing to the disk.

    &gt;[!note]The above query only returns rows when seeding is running. 

### Congratulations!
 
You have successfully completed this exercise. You can move to the next lab.

  
">
    <input type="hidden" id="activities" value="[]">
    <input type="hidden" id="activityGroups" value="[]">
    <input type="hidden" id="replacementTokens" value="[{&quot;Token&quot;:&quot;@lab.LabProfile.Id&quot;,&quot;Replacement&quot;:&quot;156300&quot;},{&quot;Token&quot;:&quot;@lab.CtrlAltDelete&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;ctrlAltDeleteLink icon-link special-action-link&#39;&gt;Ctrl+Alt+Delete&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;243511&#39;&gt;AlwaysOnDC&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Username&quot;,&quot;Replacement&quot;:&quot;Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;243511&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnDC).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;243511&#39;&gt;AlwaysOnDC&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;243512&#39;&gt;AlwaysOnN1&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;243512&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN1).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;243512&#39;&gt;AlwaysOnN1&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;243513&#39;&gt;AlwaysOnN2&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;243513&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN2).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;243513&#39;&gt;AlwaysOnN2&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;243514&#39;&gt;AlwaysOnN3&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Username&quot;,&quot;Replacement&quot;:&quot;CORPNET\\Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;243514&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnN3).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;243514&#39;&gt;AlwaysOnN3&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).SelectLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;selectMachineLink icon-link special-action-link&#39; data-data=&#39;243515&#39;&gt;AlwaysOnClient&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Username&quot;,&quot;Replacement&quot;:&quot;Administrator&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Password&quot;,&quot;Replacement&quot;:&quot;Pa$$$$w0rd&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).Console&quot;,&quot;Replacement&quot;:&quot;&lt;div class=&#39;virtual-machine-console&#39; data-id=&#39;243515&#39; data-height=&#39;768&#39; data-width=&#39;1024&#39;&gt;&lt;/div&gt;&quot;},{&quot;Token&quot;:&quot;@lab.VirtualMachine(AlwaysOnClient).NewWindowLink&quot;,&quot;Replacement&quot;:&quot;&lt;a href=&#39;#&#39; class=&#39;open-in-new-window-link icon-link special-action-link machine-new-window-link&#39; data-data=&#39;243515&#39;&gt;AlwaysOnClient&lt;/a&gt;&quot;},{&quot;Token&quot;:&quot;@lab.Title&quot;,&quot;Replacement&quot;:&quot;&lt;h1 class=\&quot;lab-title primary-color\&quot;&gt;Add database using automatic seeding&lt;/h1&gt;&quot;},{&quot;Token&quot;:&quot;@lab.LanguageName&quot;,&quot;Replacement&quot;:&quot;English&quot;},{&quot;Token&quot;:&quot;@lab.LanguageCode&quot;,&quot;Replacement&quot;:&quot;en&quot;},{&quot;Token&quot;:&quot;@lab.LanguageRegionCode&quot;,&quot;Replacement&quot;:&quot;en-US&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.Id&quot;,&quot;Replacement&quot;:&quot;{LAB_INSTANCE_ID}&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.GlobalId&quot;,&quot;Replacement&quot;:&quot;{lod_LAB_INSTANCE_ID}&quot;},{&quot;Token&quot;:&quot;@lab.LabInstance.StartDate&quot;,&quot;Replacement&quot;:&quot;20240324&quot;},{&quot;Token&quot;:&quot;@lab.User.Id&quot;,&quot;Replacement&quot;:&quot;{USER_ID}&quot;},{&quot;Token&quot;:&quot;@lab.User.FirstName&quot;,&quot;Replacement&quot;:&quot;{USER_FIRSTNAME}&quot;},{&quot;Token&quot;:&quot;@lab.User.LastName&quot;,&quot;Replacement&quot;:&quot;{USER_LASTNAME}&quot;},{&quot;Token&quot;:&quot;@lab.User.Email&quot;,&quot;Replacement&quot;:&quot;{EMAIL}&quot;},{&quot;Token&quot;:&quot;@lab.User.ExternalId&quot;,&quot;Replacement&quot;:&quot;{USER_EXTERNALID}&quot;},{&quot;Token&quot;:&quot;@lab.User.Organization.Id&quot;,&quot;Replacement&quot;:&quot;{USER_ORGANIZATION_ID}&quot;},{&quot;Token&quot;:&quot;@lab.User.Organization.Name&quot;,&quot;Replacement&quot;:&quot;{USER_ORGANIZATION_NAME}&quot;},{&quot;Token&quot;:&quot;@lab.Tag&quot;,&quot;Replacement&quot;:&quot;{TAG}&quot;}]">
    <input type="hidden" id="replacements">
    <input type="hidden" id="variables">

    <textarea id="copyInput" value="" style="position: absolute; left:-10000px; top:-10000px; " spellcheck="false" data-ms-editor="true"></textarea>

    <div id="Model" data-id="156300" data-contentroot="https://labondemand.blob.core.windows.net/content/lab156300/" data-scrolltop="" data-themescript="">



</div></body><editor-card style="position:absolute;top:0px;left:0px;z-index:auto;display: block !important"><div dir="ltr" style="all: initial;"><div style="color: initial; font: initial; font-palette: initial; font-synthesis: initial; forced-color-adjust: initial; position: absolute; text-orientation: initial; text-rendering: initial; -webkit-font-smoothing: initial; -webkit-locale: initial; -webkit-text-orientation: initial; -webkit-writing-mode: initial; writing-mode: initial; zoom: initial; accent-color: initial; place-content: initial; place-items: initial; place-self: initial; alignment-baseline: initial; animation-composition: initial; animation: initial; app-region: initial; appearance: initial; aspect-ratio: initial; backdrop-filter: initial; backface-visibility: initial; background: initial; background-blend-mode: initial; baseline-shift: initial; baseline-source: initial; block-size: initial; border-block: initial; border: initial; border-radius: initial; border-collapse: initial; border-end-end-radius: initial; border-end-start-radius: initial; border-inline: initial; border-start-end-radius: initial; border-start-start-radius: initial; inset: initial; box-shadow: initial; box-sizing: initial; break-after: initial; break-before: initial; break-inside: initial; buffered-rendering: initial; caption-side: initial; caret-color: initial; clear: initial; clip: initial; clip-path: initial; clip-rule: initial; color-interpolation: initial; color-interpolation-filters: initial; color-rendering: initial; color-scheme: initial; columns: initial; column-fill: initial; gap: initial; column-rule: initial; column-span: initial; contain: initial; contain-intrinsic-block-size: initial; contain-intrinsic-size: initial; contain-intrinsic-inline-size: initial; container: initial; content: initial; content-visibility: initial; counter-increment: initial; counter-reset: initial; counter-set: initial; cursor: initial; cx: initial; cy: initial; d: initial; display: initial; dominant-baseline: initial; empty-cells: initial; fill: initial; fill-opacity: initial; fill-rule: initial; filter: initial; flex: initial; flex-flow: initial; float: initial; flood-color: initial; flood-opacity: initial; grid: initial; grid-area: initial; height: initial; hyphenate-character: initial; hyphenate-limit-chars: initial; hyphens: initial; image-orientation: initial; image-rendering: initial; initial-letter: initial; inline-size: initial; inset-block: initial; inset-inline: initial; isolation: initial; letter-spacing: initial; lighting-color: initial; line-break: initial; list-style: initial; margin-block: initial; margin: initial; margin-inline: initial; marker: initial; mask: initial; mask-type: initial; math-depth: initial; math-shift: initial; math-style: initial; max-block-size: initial; max-height: initial; max-inline-size: initial; max-width: initial; min-block-size: initial; min-height: initial; min-inline-size: initial; min-width: initial; mix-blend-mode: initial; object-fit: initial; object-position: initial; object-view-box: initial; offset: initial; opacity: initial; order: initial; orphans: initial; outline: initial; outline-offset: initial; overflow-anchor: initial; overflow-clip-margin: initial; overflow-wrap: initial; overflow: initial; overlay: initial; overscroll-behavior-block: initial; overscroll-behavior-inline: initial; overscroll-behavior: initial; padding-block: initial; padding: initial; padding-inline: initial; page: initial; page-orientation: initial; paint-order: initial; perspective: initial; perspective-origin: initial; pointer-events: initial; quotes: initial; r: initial; resize: initial; rotate: initial; ruby-position: initial; rx: initial; ry: initial; scale: initial; scroll-behavior: initial; scroll-margin-block: initial; scroll-margin: initial; scroll-margin-inline: initial; scroll-padding-block: initial; scroll-padding: initial; scroll-padding-inline: initial; scroll-snap-align: initial; scroll-snap-stop: initial; scroll-snap-type: initial; scroll-timeline: initial; scrollbar-color: initial; scrollbar-gutter: initial; scrollbar-width: initial; shape-image-threshold: initial; shape-margin: initial; shape-outside: initial; shape-rendering: initial; size: initial; speak: initial; stop-color: initial; stop-opacity: initial; stroke: initial; stroke-dasharray: initial; stroke-dashoffset: initial; stroke-linecap: initial; stroke-linejoin: initial; stroke-miterlimit: initial; stroke-opacity: initial; stroke-width: initial; tab-size: initial; table-layout: initial; text-align: initial; text-align-last: initial; text-anchor: initial; text-combine-upright: initial; text-decoration: initial; text-decoration-skip-ink: initial; text-emphasis: initial; text-emphasis-position: initial; text-indent: initial; text-overflow: initial; text-shadow: initial; text-size-adjust: initial; text-transform: initial; text-underline-offset: initial; text-underline-position: initial; white-space: initial; timeline-scope: initial; touch-action: initial; transform: initial; transform-box: initial; transform-origin: initial; transform-style: initial; transition: initial; translate: initial; user-select: initial; vector-effect: initial; vertical-align: initial; view-timeline: initial; view-transition-name: initial; visibility: initial; border-spacing: initial; -webkit-box-align: initial; -webkit-box-decoration-break: initial; -webkit-box-direction: initial; -webkit-box-flex: initial; -webkit-box-ordinal-group: initial; -webkit-box-orient: initial; -webkit-box-pack: initial; -webkit-box-reflect: initial; -webkit-line-break: initial; -webkit-line-clamp: initial; -webkit-mask-box-image: initial; -webkit-print-color-adjust: initial; -webkit-rtl-ordering: initial; -webkit-ruby-position: initial; -webkit-tap-highlight-color: initial; -webkit-text-combine: initial; -webkit-text-decorations-in-effect: initial; -webkit-text-fill-color: initial; -webkit-text-security: initial; -webkit-text-stroke: initial; -webkit-user-drag: initial; widows: initial; width: initial; will-change: initial; word-break: initial; word-spacing: initial; x: initial; y: initial; z-index: 2147483647;"><link rel="stylesheet" href="chrome-extension://hokifickgkhplphjiodbggjmoafhignh/fonts/fabric-icons.css"><div style="all: initial;"><template shadowrootmode="open"></template></div></div><div style="color: initial; font: initial; font-palette: initial; font-synthesis: initial; forced-color-adjust: initial; position: absolute; text-orientation: initial; text-rendering: initial; -webkit-font-smoothing: initial; -webkit-locale: initial; -webkit-text-orientation: initial; -webkit-writing-mode: initial; writing-mode: initial; zoom: initial; accent-color: initial; place-content: initial; place-items: initial; place-self: initial; alignment-baseline: initial; animation-composition: initial; animation: initial; app-region: initial; appearance: initial; aspect-ratio: initial; backdrop-filter: initial; backface-visibility: initial; background: initial; background-blend-mode: initial; baseline-shift: initial; baseline-source: initial; block-size: initial; border-block: initial; border: initial; border-radius: initial; border-collapse: initial; border-end-end-radius: initial; border-end-start-radius: initial; border-inline: initial; border-start-end-radius: initial; border-start-start-radius: initial; inset: initial; box-shadow: initial; box-sizing: initial; break-after: initial; break-before: initial; break-inside: initial; buffered-rendering: initial; caption-side: initial; caret-color: initial; clear: initial; clip: initial; clip-path: initial; clip-rule: initial; color-interpolation: initial; color-interpolation-filters: initial; color-rendering: initial; color-scheme: initial; columns: initial; column-fill: initial; gap: initial; column-rule: initial; column-span: initial; contain: initial; contain-intrinsic-block-size: initial; contain-intrinsic-size: initial; contain-intrinsic-inline-size: initial; container: initial; content: initial; content-visibility: initial; counter-increment: initial; counter-reset: initial; counter-set: initial; cursor: initial; cx: initial; cy: initial; d: initial; display: initial; dominant-baseline: initial; empty-cells: initial; fill: initial; fill-opacity: initial; fill-rule: initial; filter: initial; flex: initial; flex-flow: initial; float: initial; flood-color: initial; flood-opacity: initial; grid: initial; grid-area: initial; height: initial; hyphenate-character: initial; hyphenate-limit-chars: initial; hyphens: initial; image-orientation: initial; image-rendering: initial; initial-letter: initial; inline-size: initial; inset-block: initial; inset-inline: initial; isolation: initial; letter-spacing: initial; lighting-color: initial; line-break: initial; list-style: initial; margin-block: initial; margin: initial; margin-inline: initial; marker: initial; mask: initial; mask-type: initial; math-depth: initial; math-shift: initial; math-style: initial; max-block-size: initial; max-height: initial; max-inline-size: initial; max-width: initial; min-block-size: initial; min-height: initial; min-inline-size: initial; min-width: initial; mix-blend-mode: initial; object-fit: initial; object-position: initial; object-view-box: initial; offset: initial; opacity: initial; order: initial; orphans: initial; outline: initial; outline-offset: initial; overflow-anchor: initial; overflow-clip-margin: initial; overflow-wrap: initial; overflow: initial; overlay: initial; overscroll-behavior-block: initial; overscroll-behavior-inline: initial; overscroll-behavior: initial; padding-block: initial; padding: initial; padding-inline: initial; page: initial; page-orientation: initial; paint-order: initial; perspective: initial; perspective-origin: initial; pointer-events: initial; quotes: initial; r: initial; resize: initial; rotate: initial; ruby-position: initial; rx: initial; ry: initial; scale: initial; scroll-behavior: initial; scroll-margin-block: initial; scroll-margin: initial; scroll-margin-inline: initial; scroll-padding-block: initial; scroll-padding: initial; scroll-padding-inline: initial; scroll-snap-align: initial; scroll-snap-stop: initial; scroll-snap-type: initial; scroll-timeline: initial; scrollbar-color: initial; scrollbar-gutter: initial; scrollbar-width: initial; shape-image-threshold: initial; shape-margin: initial; shape-outside: initial; shape-rendering: initial; size: initial; speak: initial; stop-color: initial; stop-opacity: initial; stroke: initial; stroke-dasharray: initial; stroke-dashoffset: initial; stroke-linecap: initial; stroke-linejoin: initial; stroke-miterlimit: initial; stroke-opacity: initial; stroke-width: initial; tab-size: initial; table-layout: initial; text-align: initial; text-align-last: initial; text-anchor: initial; text-combine-upright: initial; text-decoration: initial; text-decoration-skip-ink: initial; text-emphasis: initial; text-emphasis-position: initial; text-indent: initial; text-overflow: initial; text-shadow: initial; text-size-adjust: initial; text-transform: initial; text-underline-offset: initial; text-underline-position: initial; white-space: initial; timeline-scope: initial; touch-action: initial; transform: initial; transform-box: initial; transform-origin: initial; transform-style: initial; transition: initial; translate: initial; user-select: initial; vector-effect: initial; vertical-align: initial; view-timeline: initial; view-transition-name: initial; visibility: initial; border-spacing: initial; -webkit-box-align: initial; -webkit-box-decoration-break: initial; -webkit-box-direction: initial; -webkit-box-flex: initial; -webkit-box-ordinal-group: initial; -webkit-box-orient: initial; -webkit-box-pack: initial; -webkit-box-reflect: initial; -webkit-line-break: initial; -webkit-line-clamp: initial; -webkit-mask-box-image: initial; -webkit-print-color-adjust: initial; -webkit-rtl-ordering: initial; -webkit-ruby-position: initial; -webkit-tap-highlight-color: initial; -webkit-text-combine: initial; -webkit-text-decorations-in-effect: initial; -webkit-text-fill-color: initial; -webkit-text-security: initial; -webkit-text-stroke: initial; -webkit-user-drag: initial; widows: initial; width: initial; will-change: initial; word-break: initial; word-spacing: initial; x: initial; y: initial; z-index: 2147483647;"><link rel="stylesheet" href="chrome-extension://hokifickgkhplphjiodbggjmoafhignh/fonts/fabric-icons.css"></div></div></editor-card></html>